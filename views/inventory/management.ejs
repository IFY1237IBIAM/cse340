<link rel="stylesheet" href="/css/management.css">

<h1>Inventory Management</h1>

<!-- Flash messages -->
<% if (messages.success) { %>
  <div class="flash-messages-success">
    <% messages.success.forEach(msg => { %>
      <p class="flash-message"><%= msg %></p>
    <% }) %>
  </div>
<% } %>

<% if (messages.error) { %>
  <div class="flash-messages-error">
    <% messages.error.forEach(msg => { %>
      <p class="flash-message"><%= msg %></p>
    <% }) %>
  </div>
<% } %>

<ul class="nav-buttons">
  <li><a href="/inv/add-classification">Add New Classification</a></li>
  <li><a href="/inv/add-inventory">Add New Inventory</a></li>
</ul>

<!-- ðŸ‘‡ Inventory Management Section -->
<h2>Manage Inventory</h2>
<p>Choose a classification to view inventory items</p>

<label for="classification_id">Classification:</label>
<select name="classification_id" id="classification_id" required>
  <option value="">Select a Classification</option>
  <% if (Array.isArray(classificationList)) { %>
    <% classificationList.forEach(classification => { %>
      <option value="<%= classification.classification_id %>"><%= classification.classification_name %></option>
    <% }) %>
  <% } else { %>
    <option value="">No Classifications Available</option>
  <% } %>
</select>

<!-- Empty table for JavaScript to inject inventory data -->
<table id="inventoryDisplay"></table>

<!-- Fallback message if JavaScript is disabled -->
<noscript>JavaScript must be enabled to use this page.</noscript>

<!-- Link to the JS file that handles classification selection and inventory rendering -->
<script src="../../js/inventory.js"></script>
